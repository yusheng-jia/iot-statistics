<div class="container">
  <h1 class="page-title">产品功能统计</h1>
  <div class="controls">
    <mat-form-field>
      <mat-label>选择产品</mat-label>
      <mat-select [(ngModel)]="selectedProduct" (selectionChange)="onProductChange()">
        <mat-option *ngFor="let product of products" [value]="product">
          {{product}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>时间周期</mat-label>
      <mat-select [(ngModel)]="selectedPeriod" (selectionChange)="onPeriodChange()">
        <mat-option *ngFor="let period of periods" [value]="period">
          {{period}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>开始日期</mat-label>
      <input matInput [matDatepicker]="startPicker" [(ngModel)]="startDate" (dateChange)="onDateRangeChange()">
      <mat-datepicker-toggle matIconSuffix [for]="startPicker"></mat-datepicker-toggle>
      <mat-datepicker #startPicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>结束日期</mat-label>
      <input matInput [matDatepicker]="endPicker" [(ngModel)]="endDate" (dateChange)="onDateRangeChange()">
      <mat-datepicker-toggle matIconSuffix [for]="endPicker"></mat-datepicker-toggle>
      <mat-datepicker #endPicker></mat-datepicker>
    </mat-form-field>
    <!-- <button mat-flat-button color="primary" (click)="onSubmit()">
      确定
    </button> -->
  </div>
  <div class="charts">
    <echarts 
      [options]="barChartOptions" 
      [style]="{ height: '100%', width: '50%' }">
    </echarts>
    <echarts 
      [options]="roseChartOptions" 
      [style]="{ height: '100%', width: '50%' }">
    </echarts>
  </div>
</div>
